# genre/CLAUDE.md

## 🎯 目的・役割

商品ジャンル管理機能を提供するコンポーネント群。商品分類の基盤となるジャンル体系の管理、オリジナルジャンルの作成、アプリケーション全体のジャンル統合を担当。

## 🏗️ 技術構成
- **主要技術**: React, TypeScript, カスタムフック
- **依存関係**: ../../api/, ../item/, ../category/
- **関連システム**: 商品マスタシステム、分類管理システム

## 📁 ディレクトリ構造
```
genre/
├── CLAUDE.md
└── hooks/                # ジャンル管理カスタムフック
    ├── useAppGenre.ts              # アプリケーションジャンル管理
    ├── useCreateOriginalGenres.ts  # オリジナルジャンル作成
    └── useGenre.ts                 # 基本ジャンル操作
```

## 🔧 主要機能

### ジャンル管理
- 標準ジャンルの取得・表示
- ジャンル階層構造の管理
- ジャンル別商品の分類・検索

### オリジナルジャンル作成
- 店舗独自のジャンル分類作成
- 既存ジャンル体系との統合
- カスタムジャンルの管理

### アプリケーション統合
- 全アプリケーション共通のジャンル管理
- ジャンル情報の一元化
- 他機能との連携（商品検索、分類等）

## 💡 使用パターン

### 基本的なジャンル操作
```typescript
// 基本ジャンル管理
const { genres, loading, fetchGenres } = useGenre();

// アプリケーション統合ジャンル
const { appGenres, updateAppGenre } = useAppGenre();

// オリジナルジャンル作成
const { createOriginalGenres, isCreating } = useCreateOriginalGenres();
```

### ジャンル選択・フィルタリング
```typescript
// ジャンル選択UI
const selectedGenre = genres.find(g => g.id === selectedId);

// ジャンル別商品フィルタ
const filteredProducts = products.filter(p => p.genreId === selectedGenre.id);
```

## 🗺️ プロジェクト内での位置づけ

### データフロー
```
マスタジャンル → アプリケーション統合 → UI表示
              ↓
オリジナルジャンル作成 → 商品分類 → 検索・フィルタ
```

### 他システムとの関係
- **商品管理** (`../item/`, `../products/`): 商品のジャンル分類
- **カテゴリ管理** (`../category/`): より詳細な分類との連携
- **検索機能**: ジャンル別商品検索
- **EC機能** (`../ec/`): ECサイトでのジャンル表示

### 責務の境界
- **責務内**: ジャンル体系の管理、オリジナルジャンル作成
- **責務外**: 商品の詳細分類（カテゴリ）、価格設定

## 🔗 関連ディレクトリ
- [商品管理](../item/) - ジャンル別商品検索
- [カテゴリ管理](../category/) - 詳細分類との連携
- [商品一覧](../products/) - ジャンルフィルタ機能
- [EC機能](../ec/) - ECサイトジャンル表示

## 📚 ドキュメント・リソース
- ジャンル分類体系仕様
- オリジナルジャンル作成ガイドライン
- 商品分類統合仕様

## 📝 開発メモ

### 設計思想
- 階層的ジャンル構造のサポート
- 標準ジャンルとオリジナルジャンルの共存
- アプリケーション全体での一貫性確保

### 注意点
- ジャンル変更時の既存商品への影響を考慮
- オリジナルジャンルの命名重複チェック
- ジャンル削除時の関連データ整合性確保

### ベストプラクティス
- ジャンル階層の深さは適切に制限
- ユーザビリティを考慮したジャンル名設定
- 検索性を高めるためのタグ付け

### パフォーマンス考慮事項
- ジャンル一覧の効率的なキャッシング
- 大量ジャンルでのページネーション
- 検索時のインデックス活用

### 将来の拡張計画
- 多言語対応ジャンル名
- ジャンルの動的並び替え
- AI支援による自動ジャンル分類
- ジャンル利用統計の分析

---
*Documentation-Agent作成: 2025-01-24*