test_cases:
  - id: 1
    type: 正常系
    major_category: 会員機能
    medium_category: 新規会員登録
    minor_category: メール・パスワード入力
    procedure: 新規会員登録ページ (`/ec/account/signup`) で、有効なメールアドレスと8文字以上のパスワード（確認用も同じ）を入力し、「入力内容を確認」ボタンをクリックする。
    expected_result: 入力内容の確認ページ (`/ec/account/signup/confirm`) に遷移する。
  - id: 2
    type: 正常系
    major_category: 会員機能
    medium_category: 新規会員登録
    minor_category: 登録内容確認・完了
    procedure: 確認ページで「会員登録を完了する」ボタンをクリックする。
    expected_result: 注文ページ (`/ec/order`) に遷移し、ログイン状態になる。
  - id: 3
    type: 異常系
    major_category: 会員機能
    medium_category: 新規会員登録
    minor_category: パスワード不一致
    procedure: 新規会員登録ページで、パスワードと確認用パスワードが一致しない値を入力する。
    expected_result: 「パスワードが一致しません」というエラーメッセージが表示される。
  - id: 4
    type: 異常系
    major_category: 会員機能
    medium_category: 新規会員登録
    minor_category: 無効なメールアドレス
    procedure: 新規会員登録ページで、メールアドレスの形式ではない文字列を入力する。
    expected_result: 「有効なメールアドレスを入力してください」というエラーメッセージが表示される。
  - id: 5
    type: 正常系
    major_category: 会員機能
    medium_category: ログイン
    minor_category: 正常なログイン
    procedure: ログインページ (`/ec/login`) で、登録済みのメールアドレスとパスワードを入力し、「ログイン」ボタンをクリックする。
    expected_result: 注文ページ (`/ec/order`) または会員情報編集ページ (`/ec/account/edit`) に遷移し、ログイン状態になる。
  - id: 6
    type: 異常系
    major_category: 会員機能
    medium_category: ログイン
    minor_category: パスワード間違い
    procedure: ログインページで、登録済みのメールアドレスと誤ったパスワードを入力する。
    expected_result: 「メールアドレスまたはパスワードが正しくありません。」というエラーメッセージが表示される。
  - id: 7
    type: 正常系
    major_category: 会員機能
    medium_category: パスワードリセット
    minor_category: 再発行申請
    procedure: パスワード再発行ページ (`/ec/forget-password`) で登録済みのメールアドレスを入力し、「送信する」ボタンをクリックする。
    expected_result: サインインページ (`/ec/forget-password/sign-in`) に遷移し、「仮パスワードが書かれたメールを送信しました」と表示される。
  - id: 8
    type: 正常系
    major_category: 会員機能
    medium_category: パスワードリセット
    minor_category: 仮パスワードでサインイン
    procedure: サインインページで、メールアドレスとメールで送られてきた仮パスワードを入力し、「ログイン」ボタンをクリックする。
    expected_result: パスワード変更ページ (`/ec/forget-password/change-password`) に遷移する。
  - id: 9
    type: 正常系
    major_category: 会員機能
    medium_category: パスワードリセット
    minor_category: 新パスワード設定
    procedure: パスワード変更ページで、8文字以上の新しいパスワードを入力し、「パスワード変更」ボタンをクリックする。
    expected_result: ログインページ (`/ec/login`) に遷移する。
  - id: 10
    type: 異常系
    major_category: 会員機能
    medium_category: パスワードリセット
    minor_category: 不正なページアクセス
    procedure: パスワード再発行申請をせずに、直接サインインページ (`/ec/forget-password/sign-in`) にアクセスする。
    expected_result: パスワード再発行ページ (`/ec/forget-password`) にリダイレクトされる。
  - id: 11
    type: 正常系
    major_category: 会員機能
    medium_category: 会員情報編集
    minor_category: 必須情報が不足した状態でログイン
    procedure: 会員登録後、必須情報（氏名、住所など）が未入力の状態でログインする。
    expected_result: 会員情報編集ページ (`/ec/account/edit`) に自動的に遷移する。
  - id: 12
    type: 正常系
    major_category: 会員機能
    medium_category: 会員情報編集
    minor_category: 郵便番号から住所自動入力
    procedure: 会員情報編集ページで、有効な郵便番号を入力する。
    expected_result: 対応する都道府県、市区町村、以降の住所が自動的に入力される。
  - id: 13
    type: 正常系
    major_category: 会員機能
    medium_category: 会員情報編集
    minor_category: 情報更新
    procedure: 会員情報編集ページで情報を更新し、「入力内容を確認」→「会員情報を編集する」ボタンをクリックする。
    expected_result: 注文ページ (`/ec/order`) に遷移し、情報が更新されていることを確認できる。（例：お届け先情報）
  - id: 14
    type: 正常系
    major_category: トップページ
    medium_category: ジャンル一覧
    minor_category: ジャンルカード表示
    procedure: トップページ (`/ec`) にアクセスする。
    expected_result: APIから取得したジャンル一覧がカード形式で表示されている。
  - id: 15
    type: 正常系
    major_category: トップページ
    medium_category: ジャンル一覧
    minor_category: ジャンルページへ遷移
    procedure: いずれかのジャンルカードをクリックする。
    expected_result: クリックしたジャンルの商品一覧ページ (`/ec/items/genre/[genre]`) に遷移する。
  - id: 16
    type: 正常系
    major_category: 商品一覧ページ
    medium_category: 表示切替
    minor_category: グリッド/リスト表示切替
    procedure: ヘッダーの表示切替アイコンをクリックする。
    expected_result: 商品の表示形式がグリッドとリストで切り替わる。
  - id: 17
    type: 正常系
    major_category: 商品一覧ページ
    medium_category: 無限スクロール
    minor_category: ページ最下部までスクロール
    procedure: ページを下にスクロールし続ける。
    expected_result: ローディングアイコンが表示された後、次の商品群が自動で読み込まれ、リストに追加される。
  - id: 18
    type: 正常系
    major_category: 商品一覧ページ
    medium_category: 絞り込み/フィルター
    minor_category: 在庫ありフィルター
    procedure: ヘッダーの「絞り込み」ボタンからドロワーを開き、「在庫のない商品を表示しない」にチェックを入れて検索する。
    expected_result: 在庫がある商品（価格が表示されている商品）のみが表示される。
  - id: 19
    type: 正常系
    major_category: 商品一覧ページ
    medium_category: 絞り込み/フィルター
    minor_category: 状態フィルター
    procedure: 絞り込みドロワーで特定の「カード状態」（例：状態A）にチェックを入れて検索する。
    expected_result: 指定した状態の商品を含むカードのみが表示される。
  - id: 20
    type: 異常系
    major_category: 商品一覧ページ
    medium_category: 絞り込み/フィルター
    minor_category: 検索結果0件
    procedure: 絞り込み条件で該当する商品が存在しない場合。
    expected_result: 「対象の商品が存在しません」というメッセージとアイコンが表示される。
  - id: 21
    type: 正常系
    major_category: 商品一覧ページ
    medium_category: 並び替え
    minor_category: 価格が安い順
    procedure: ヘッダーの並び替えセレクトボックスで「価格が安い順」を選択する。
    expected_result: 商品が価格の昇順で並び替えられる。
  - id: 22
    type: 正常系
    major_category: 商品一覧ページ
    medium_category: 画面遷移
    minor_category: 商品詳細ページへ
    procedure: いずれかの商品カードまたはリストアイテムをクリックする。
    expected_result: クリックした商品の詳細ページ (`/ec/items/[id]`) に遷移する。
  - id: 23
    type: 正常系
    major_category: 商品詳細ページ
    medium_category: 商品情報表示
    minor_category: 基本情報表示
    procedure: 商品詳細ページにアクセスする。
    expected_result: 商品名、画像、カード番号、レアリティ、エキスパンションなどの基本情報が表示される。
  - id: 24
    type: 正常系
    major_category: 商品詳細ページ
    medium_category: 商品情報表示
    minor_category: 出品一覧表示
    procedure: ページ下部に、その商品を出品している店舗ごとの情報（状態、価格、在庫数）が表示される。
    expected_result: 最も状態が良く安い商品が一番上に表示され、それ以外の出品もリストで確認できる。
  - id: 25
    type: 正常系
    major_category: 商品詳細ページ
    medium_category: 商品情報表示
    minor_category: スクロールヘッダー
    procedure: ページを下にスクロールし、メインの商品画像が見えなくなる。
    expected_result: ページ上部に商品情報のサマリーが記載されたヘッダーが固定で表示される。
  - id: 26
    type: 正常系
    major_category: 商品詳細ページ
    medium_category: 問題報告
    minor_category: 報告モーダル表示
    procedure: 「問題を報告」ボタンをクリックする。
    expected_result: 問題報告用のモーダルが表示される。
  - id: 27
    type: 正常系
    major_category: 商品詳細ページ
    medium_category: 問題報告
    minor_category: 報告送信
    procedure: モーダルで問題の種類を選択し、内容を記述して「報告する」ボタンをクリックする。
    expected_result: 「問題が報告されました」という成功通知が表示され、モーダルが閉じる。
  - id: 28
    type: 正常系
    major_category: カート機能
    medium_category: 商品追加
    minor_category: 未ログインでカート追加
    procedure: 未ログイン状態で、商品詳細ページから数量を選択し「カートへ」ボタンをクリックする。
    expected_result: 「カートに追加しました」通知が表示され、ヘッダーのカートアイコンのバッジ数が増える。カート情報はLocalStorageに保存される。
  - id: 29
    type: 正常系
    major_category: カート機能
    medium_category: 商品追加
    minor_category: ログイン状態でカート追加
    procedure: ログイン状態で同様にカートに追加する。
    expected_result: 「カートに追加しました」通知が表示され、ヘッダーのカートアイコンのバッジ数が増える。カート情報はサーバーに保存される。
  - id: 30
    type: 正常系
    major_category: カート機能
    medium_category: 商品追加
    minor_category: 数量変更
    procedure: カートページ (`/ec/cart`) で、商品の数量を変更する。
    expected_result: 数量が変更され、ショップ小計とカート全体の合計金額がリアルタイムで再計算される。
  - id: 31
    type: 正常系
    major_category: カート機能
    medium_category: 商品追加
    minor_category: 商品削除
    procedure: カートページで、商品の削除ボタンをクリックする。
    expected_result: 対象商品がカートから削除され、合計金額が再計算される。商品がなくなったストアはカートから消える。
  - id: 32
    type: 正常系
    major_category: カート機能
    medium_category: 商品追加
    minor_category: ショップ変更
    procedure: カートページで「ショップを変更」をクリックし、モーダルで別のショップの商品を選択して確定する。
    expected_result: 元のショップの商品が減り（またはなくなり）、新しく選択したショップの商品がカートに追加される。合計金額も再計算される。
  - id: 33
    type: 正常系
    major_category: カート機能
    medium_category: 商品追加
    minor_category: 配送方法選択
    procedure: カートページで、ストアごとに提示される配送方法候補から一つ選択する。
    expected_result: 送料が確定し、合計金額に反映される。
  - id: 34
    type: 正常系
    major_category: 注文フロー
    medium_category: 注文確認ページ遷移
    minor_category: 未ログイン状態で遷移
    procedure: カートページで「お支払い方法の選択」ボタンをクリックする。
    expected_result: ログインページ (`/ec/login`) にリダイレクトされる。
  - id: 35
    type: 正常系
    major_category: 注文フロー
    medium_category: 注文確認ページ遷移
    minor_category: ログイン状態で遷移
    procedure: ログイン状態で「お支払い方法の選択」ボタンをクリックする。
    expected_result: 注文内容確認ページ (`/ec/order`) に遷移する。
  - id: 36
    type: 異常系
    major_category: 注文フロー
    medium_category: 注文確認ページ遷移
    minor_category: 配送方法未選択で遷移
    procedure: カートページで配送方法を選択せずに「お支払い方法の選択」ボタンをクリックする。
    expected_result: 「配送方法が未選択です」というアラートが表示され、該当ストアまでスクロールする。
  - id: 37
    type: 正常系
    major_category: 注文フロー
    medium_category: 注文内容確認
    minor_category: お届け先情報
    procedure: 注文内容確認ページにアクセスする。
    expected_result: 登録済みの会員情報からお届け先住所と氏名が表示されている。
  - id: 38
    type: 正常系
    major_category: 注文フロー
    medium_category: 注文内容確認
    minor_category: 支払い方法選択 (クレジット)
    procedure: 「お支払い方法を選択する」からクレジットカードを選択し、有効なカード情報を入力して「このカードで支払う」をクリックする。
    expected_result: 支払い方法が「クレジットカード」として確定され、カード番号下4桁が表示される。
  - id: 39
    type: 正常系
    major_category: 注文フロー
    medium_category: 注文内容確認
    minor_category: 支払い方法選択 (コンビニ)
    procedure: 「お支払い方法を選択する」からコンビニ決済を選択し、支払いを行うコンビニを選択して「このコンビニで支払う」をクリックする。
    expected_result: 支払い方法が「コンビニ決済」として確定され、選択したコンビニ名が表示される。
  - id: 40
    type: 正常系
    major_category: 注文フロー
    medium_category: 注文内容確認
    minor_category: 注文確定
    procedure: 支払い方法を選択した状態で、「注文を確定する」ボタンをクリックする。
    expected_result: 注文完了ページ (`/ec/order/result/[id]`) に遷移する。（クレジットの3Dセキュア有効時は、外部決済ページへリダイレクトされる）
  - id: 41
    type: 異常系
    major_category: 注文フロー
    medium_category: 注文内容確認
    minor_category: 支払い方法未選択で注文確定
    procedure: 支払い方法を選択せずに「注文を確定する」ボタンをクリックする。
    expected_result: ボタンは非活性化されており、クリックできない。
  - id: 42
    type: 正常系
    major_category: 注文フロー
    medium_category: 注文完了
    minor_category: 完了メッセージ表示
    procedure: 注文完了ページにアクセスする。
    expected_result: 「注文確定。ありがとうございました。」というメッセージが表示される。
  - id: 43
    type: 正常系
    major_category: 注文フロー
    medium_category: 注文完了
    minor_category: 注文内容表示
    procedure: 注文完了ページに、今回注文したお届け先、支払い方法、商品の一覧が表示される。
    expected_result: 注文内容が正しく表示されている。
  - id: 44
    type: 正常系
    major_category: 注文履歴
    medium_category: 履歴一覧
    minor_category: 一覧表示
    procedure: アカウントメニューから「注文履歴」を選択する。
    expected_result: 過去の注文が店舗ごとにカード形式で一覧表示される。新しい注文が一番上に表示される。
  - id: 45
    type: 正常系
    major_category: 注文履歴
    medium_category: 履歴一覧
    minor_category: 詳細ページへ遷移
    procedure: いずれかの注文の「詳細」ボタンをクリックする。
    expected_result: 対応する注文の詳細ページ (`/ec/order/history/[storeOrderCode]`) に遷移する。
  - id: 46
    type: 正常系
    major_category: 注文履歴
    medium_category: 履歴詳細
    minor_category: 詳細情報表示
    procedure: 注文詳細ページにアクセスする。
    expected_result: 注文日時、注文番号、ショップ名、支払い金額、商品リスト、お届け先、配送方法、支払い方法などの詳細情報が表示される。
  - id: 47
    type: 正常系
    major_category: 注文履歴
    medium_category: 履歴詳細
    minor_category: 領収書発行
    procedure: 宛名を入力し、「発行」ボタンをクリックする。確認モーダルで再度「発行」をクリックする。
    expected_result: 領収書発行ロジックが実行される。（コンソールログで確認）
  - id: 48
    type: 正常系
    major_category: 注文履歴
    medium_category: 履歴詳細
    minor_category: 注文に関する問い合わせ
    procedure: ページ下部の「この注文について問い合わせる」リンクをクリックする。
    expected_result: その注文専用の問い合わせフォームページ (`/ec/order/contact/[orderId]`) に遷移する。
  - id: 49
    type: 正常系
    major_category: メッセージ機能
    medium_category: 問い合わせフォーム
    minor_category: 問い合わせ送信
    procedure: 問い合わせフォームで種類、件名、内容を入力し、「入力内容を確認」→「送信する」ボタンをクリックする。
    expected_result: 問い合わせ完了ページに遷移し、「お問合せありがとうございました」と表示される。
  - id: 50
    type: 正常系
    major_category: メッセージ機能
    medium_category: メッセージセンター
    minor_category: 一覧表示
    procedure: アカウントメニューから「メッセージセンター」を選択する。
    expected_result: 店舗とのやり取りが一覧で表示される。未読のメッセージには「新着」ラベルが付いている。
  - id: 51
    type: 正常系
    major_category: メッセージ機能
    medium_category: メッセージセンター
    minor_category: 詳細表示
    procedure: いずれかのメッセージの「詳細を見る」ボタンをクリックする。
    expected_result: メッセージの詳細ページ (`/ec/message-center/[id]`) に遷移し、過去のやり取りが時系列で表示される。
  - id: 52
    type: 正常系
    major_category: メッセージ機能
    medium_category: メッセージセンター
    minor_category: 注文内容確認
    procedure: メッセージ詳細ページで「ご注文内容」ボタンをクリックする。
    expected_result: モーダルウィンドウで該当の注文内容詳細が表示される。
  - id: 53
    type: 正常系
    major_category: デッキ購入機能
    medium_category: 購入オプション表示
    minor_category: 在庫・価格確認
    procedure: デッキID (`deckId`) またはデッキコード (`code`) を含むURL (`/ec/deck`) にアクセスする。
    expected_result: デッキに含まれるカードの一覧、各カードの在庫状況、およびそれに基づいた合計金額が表示される。
  - id: 54
    type: 正常系
    major_category: デッキ購入機能
    medium_category: 購入オプション変更
    minor_category: 互換カードの許容
    procedure: デッキ購入オプションページで「レアリティ違いを許容」や「型番違いを許容」のチェックボックスの状態を変更する。
    expected_result: チェックの状態に応じて、利用可能な商品が再検索され、在庫状況と合計金額がリアルタイムで更新される。
  - id: 55
    type: 正常系
    major_category: デッキ購入機能
    medium_category: カート追加
    minor_category: 在庫不足時のモーダル表示
    procedure: デッキ購入オプションページで「カートに追加」ボタンをクリックする。
    expected_result: 在庫が確保できた商品はカートに追加される。在庫が不足している商品がある場合、その商品と不足数が記載されたモーダル (`InsufficientProductsModal`) が表示される。
  - id: 56
    type: 正常系
    major_category: カート機能
    medium_category: ログイン連携
    minor_category: 未ログイン時のカートとサーバーカートのマージ
    procedure: 1. 未ログイン状態で商品をカートに追加する。 2. ログインページに遷移し、ログインする。 3. ヘッダーのカートアイコンをクリックし、カートページに遷移する。
    expected_result: 未ログイン時に追加した商品が、ログイン後のアカウントのカート情報と正しくマージされている。
  - id: 57
    type: 正常系
    major_category: 商品一覧ページ
    medium_category: セッション復元
    minor_category: スクロール位置と表示件数の復元
    procedure: 1. 商品一覧ページ (`/ec/items/genre/[genre]`) で複数回スクロールして商品を読み込ませる。 2. ページ中ほどの位置でブラウザをリロードする。
    expected_result: リロード後、以前のスクロール位置と読み込み済みの商品が復元され、同じ表示状態から閲覧を再開できる。
  - id: 58
    type: 異常系
    major_category: 商品一覧ページ
    medium_category: セッション復元
    minor_category: セッションタイムアウト
    procedure: 1. 商品一覧ページでスクロールする。 2. 10分以上経過してからページをリロードする。
    expected_result: セッション情報が失効し、スクロール位置や商品は復元されず、ページの先頭から初期状態で表示される。
  - id: 59
    type: 正常系
    major_category: 商品一覧ページ
    medium_category: 絞り込み/フィルター
    minor_category: フィルター全解除
    procedure: 絞り込みドロワーを開き、複数のフィルターを適用して検索した後、「すべてクリア」ボタンをクリックする。
    expected_result: すべてのフィルター条件が解除され、URLのクエリパラメータからフィルター関連のものが削除される。商品一覧が初期状態に戻る。
  - id: 60
    type: 正常系
    major_category: カート機能
    medium_category: 表示確認
    minor_category: ページごとの表示モード切替
    procedure: 1. カートページ (`/ec/cart`) でストアカードを確認する。 2. 注文確認ページ (`/ec/order`) で同じストアカードを確認する。
    expected_result: カートページでは数量変更のセレクトボックスや削除ボタンが表示されるが、注文確認ページではそれらの操作UIは表示されず、注文数量がテキストで表示される。
  - id: 61
    type: 正常系
    major_category: ヘッダー
    medium_category: 動的UI
    minor_category: 検索バーの表示制御
    procedure: 1. トップページ (`/ec`) を表示する。 2. 商品一覧ページ (`/ec/items/genre/[genre]`) に遷移する。
    expected_result: トップページでは検索バーが表示されず、商品一覧ページでのみヘッダー内に検索バーが表示される。
  - id: 62
    type: 異常系
    major_category: API連携
    medium_category: エラーハンドリング
    minor_category: カート情報取得失敗
    procedure: ネットワークエラーなどを再現し、カート情報の取得API (`getCartContents`) が失敗する状況をシミュレートする。
    expected_result: 画面に「カートの取得に失敗しました」というアラートが表示され、ローディングが停止する。
  - id: 63
    type: 正常系
    major_category: 共通コンポーネント
    medium_category: アカウントメニュー
    minor_category: 外部リンクへの遷移
    procedure: ヘッダーのアカウントメニューを開き、「特定商取引法に基づく表示」をクリックする。
    expected_result: 外部サイト (`https://mycalinks-mall.com/scl/`) が新しいタブで開かれる。